/**
 * jQuery Unserialize
 *
 * License: GPL
 * Copyright Daniel Cantar√≠n, https://github.com/Canta/
 */

jQuery.unserialize=function(e){for(var r=e.split("&"),o="{",n=[],t="",a=0;a<r.length;a++){var i=r[a].split(/=/)
i[0].indexOf("%5B")>-1||i[0].indexOf("[")>-1?(t=i[0].indexOf("%5B")>-1?i[0].replace("%5B","").replace("%5D",""):i[0].replace("[","").replace("]",""),void 0===n[t]&&(n[t]=[]),n[t].push(decodeURIComponent(i[1].replace(/\+/g," ")))):i.length>1&&(o+='"'+i[0]+'": "'+decodeURIComponent(i[1].replace(/\+/g," ")).replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'", ')}o="{"!=o?o.substr(0,o.length-2)+"}":o+"}"
var p=JSON.parse(o)
for(arr in n)p[arr]=n[arr]
return p},jQuery.fn.unserialize=function(e){var r="string"==typeof e?e.split("&"):e
if("object"!=typeof r)throw Error("unserialize: string or JSON object expected.")
var o="string"==typeof e&&decodeURIComponent(e).indexOf("[]=")>-1
r=o?$.unserialize(e):r
for(var n in r){var t=r instanceof Array?r[n].split(/=/):[n,r[n]instanceof Array?r[n]:""+r[n]]
if(t[0]=decodeURIComponent(t[0]),-1==t[0].indexOf("[]")&&t[1]instanceof Array&&(t[0]+="[]"),obj=this.find("[name='"+t[0]+"']"),0==obj.length)try{obj=this.parent().find("[name='"+t[0]+"']")}catch(a){}if("string"!=typeof obj.attr("type")||"radio"!=obj.attr("type").toLowerCase()&&"checkbox"!=obj.attr("type").toLowerCase())if(obj.length>0&&"SELECT"==obj[0].tagName&&t[1]instanceof Array&&obj.prop("multiple"))obj.val(t[1])
else{var i=t[1]instanceof Array?t[1].join(""):t[1]
i="object"==typeof i?"":i,obj.val(decodeURIComponent(i.replace(/\+/g," ")))}else obj.each(function(e,r){if(r=$(r),t[1]instanceof Array)for(var o in t[1]){var n=""+t[1][o]
r.attr("value")==decodeURIComponent(n.replace(/\+/g," "))?r.prop("checked",!0):$.inArray(r.val(),t[1])||r.prop("checked",!1)}else n=""+t[1],r.attr("value")==decodeURIComponent(n.replace(/\+/g," "))?r.prop("checked",!0):r.prop("checked",!1)})}return this}